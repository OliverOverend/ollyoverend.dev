# Architecture Documentation

## System Overview

This website is built as a static site using MkDocs with the Material theme. The architecture is simple, content-focused, and optimized for performance and maintainability.

## Technology Choices

### MkDocs + Material Theme

**Why MkDocs?**
- Simple Markdown-based content management
- Built-in blog plugin with date-based archives
- Fast static site generation
- Easy to maintain and extend

**Why Material Theme?**
- Professional, modern design out of the box
- Built-in dark mode support
- Extensive customization options
- Rich feature set (navigation, search, social links)

### Deployment Strategy

**GitHub Pages**
- Free hosting for static sites
- Automatic HTTPS
- Easy deployment via `mkdocs gh-deploy`
- Good performance with CDN

## Directory Structure

```
ollyoverend.dev/
├── docs/                       # All content lives here
│   ├── index.md                # Home page (uses custom template)
│   ├── about.md                # About page
│   ├── projects.md             # Projects page
│   ├── blog/                   # Blog system
│   │   ├── index.md            # Blog listing (auto-generated)
│   │   ├── tags.md             # Tag index
│   │   └── posts/              # Blog posts (Markdown files)
│   ├── assets/                 # Static assets
│   │   └── images/             # Images, logos, avatars
│   ├── html/                   # Template overrides
│   │   ├── home.html           # Custom home page layout
│   │   ├── main.html           # Global template extensions
│   │   └── partials/           # Reusable template parts
│   │       └── footer.html     # Custom footer template
│   └── stylesheets/            # Custom CSS
│       └── extra.css           # Theme customizations
├── mkdocs.yml                  # Configuration file
├── pyproject.toml              # Python project metadata
└── uv.lock                     # Dependency lock file
```

## Core Components

### 1. Content System

**Pages** (`docs/*.md`)
- Simple Markdown files
- Defined in `nav:` section of `mkdocs.yml`
- Currently: Home, About, Projects, Blog, Tags

**Blog** (`docs/blog/posts/`)
- Managed by MkDocs blog plugin
- Posts use front matter for metadata (date, categories, tags)
- Auto-generates archives by date: `/blog/YYYY/MM/DD/post-title/`
- Pagination: 5 posts per page

### 2. Template System

**Template Hierarchy**
```
base.html (Material theme)
  └── main.html (our custom extensions)
      ├── home.html (custom home page)
      └── [other pages use default Material layout]
```

**Custom Templates**

1. **home.html** (`docs/html/home.html`)
   - Overrides the home page layout
   - Hero section with image, tagline, description, buttons
   - Feature cards section (configured in `mkdocs.yml`)
   - Responsive design with mobile breakpoints

2. **main.html** (`docs/html/main.html`)
   - Global template extensions
   - Currently adds canonical link support for navigation.instant

3. **footer.html** (`docs/html/partials/footer.html`)
   - Custom footer with additional links
   - Previous/next navigation for blog posts
   - Social links, copyright, "Made with" attribution
   - Footer links: About, Projects, Blog, Contact, Source

### 3. Styling System

**CSS Architecture**

1. **Material Theme Base Styles** (provided by theme)
   - Core layout and components
   - Default color schemes

2. **Custom Color Schemes** (`extra.css`)
   - `custom-light`: Light theme with custom colors
   - `custom-dark`: Dark theme with custom colors
   - Uses CSS custom properties for easy theming

3. **Component Overrides** (`extra.css`)
   - Logo sizing (48px desktop, 32px mobile)
   - Emoji sizing (1rem for twemoji)
   - Footer link styling

**Color System**
- Primary color: `#6bb9f5` (light blue)
- Accent color: `#1476b8` (darker blue)
- Custom button colors with hover states
- Consistent color variables for both themes

### 4. Navigation System

**Primary Navigation**
- Sticky tabs at the top
- Configured in `mkdocs.yml` under `nav:`
- Auto-generated from page structure
- Current structure: Home → About → Projects → Blog → Tags

**Breadcrumb Navigation**
- Enabled via `navigation.breadcrumbs` feature
- Shows hierarchical page location
- Particularly useful for blog post navigation

**Home Page Buttons**
- Quick access buttons in hero section
- Configured in `extra.home.buttons`
- Icons from FontAwesome (solid, regular, brands)

**Feature Cards**
- Card grid on home page
- Links to featured content
- Configured in `extra.home.cards`

### 5. Blog System

**Architecture**
```
blog/
├── index.md          # Main blog listing (auto-generated by plugin)
├── tags.md           # Tag listing page
└── posts/            # Individual blog posts
    └── Post-Title.md # Each post is a Markdown file
```

**Blog Features**
- Date-based archives (`/blog/YYYY/MM/DD/post-title/`)
- Category and tag support
- Pagination (5 posts per page)
- Archive by month/year
- RSS/Atom feed generation (optional, can be enabled)

**Post Front Matter**
```yaml
---
date:
  created: YYYY-MM-DD
  updated: YYYY-MM-DD  # optional
categories:
  - Category Name
tags:
  - tag1
  - tag2
description: Optional post description for SEO
---
```

## Configuration Management

### mkdocs.yml Structure

```yaml
# Project metadata
site_name, site_url, site_author, site_description

# Repository info
repo_url, repo_name, edit_uri

# Theme configuration
theme:
  name: material
  custom_dir: docs/html/
  features: [list of Material features]
  palette: [light/dark/auto schemes]
  fonts: [text and code fonts]
  logo, favicon, icons

# Markdown extensions
markdown_extensions: [code highlighting, emoji, etc.]

# Plugins
plugins:
  - blog: [blog settings]
  - material/tags: [tag settings]
  - search

# Extra configuration
extra:
  social: [social media links]
  home: [home page content configuration]

# Navigation structure
nav: [page tree]

# Custom CSS
extra_css: [extra.css]
```

## Build and Deployment Pipeline

### Local Development
```bash
uv run mkdocs serve
```
- Runs local server at `http://127.0.0.1:8000/ollyoverend.dev/`
- Live reload on file changes
- Fast rebuild times

### Production Build
```bash
uv run mkdocs build
```
- Generates static HTML/CSS/JS in `site/` directory
- Minifies assets
- Optimizes images
- Generates search index

### Deployment
```bash
uv run mkdocs gh-deploy
```
- Builds the site
- Pushes to `gh-pages` branch
- GitHub Pages automatically serves the updated site
- Deployment URL: `https://oliveroverend.github.io/ollyoverend.dev/`

## Dependency Management

**Python Dependencies**
- Single dependency: `mkdocs-material>=9.7.1`
- Managed via `pyproject.toml` and `uv.lock`
- uv provides fast, reliable dependency resolution

**Theme Dependencies**
- Material theme includes all necessary JavaScript libraries
- No additional frontend build step required
- All assets bundled and optimized by Material theme

## Performance Considerations

1. **Static Site Generation**
   - Pre-rendered HTML for fast page loads
   - No server-side processing required
   - Easy to cache and serve via CDN

2. **Material Theme Optimizations**
   - Instant navigation (AJAX page loading)
   - Progressive web app features
   - Lazy loading of images
   - Search index pre-built at build time

3. **Asset Optimization**
   - Custom CSS loaded after Material theme (cascade priority)
   - Minimal custom CSS to reduce load time
   - Icons loaded from theme's icon set (cached)

## Extensibility

### Adding New Pages
1. Create Markdown file in `docs/`
2. Add to `nav:` in `mkdocs.yml`
3. Optionally add to home page buttons/cards

### Customizing Design
1. **Colors**: Modify CSS variables in `extra.css`
2. **Layout**: Override templates in `docs/html/`
3. **Components**: Add custom HTML blocks in Markdown

### Adding Features
1. Install MkDocs plugins via `pyproject.toml`
2. Configure in `mkdocs.yml`
3. Most features available through Material theme

## Maintenance Guidelines

1. **Content Updates**
   - Blog posts: Add Markdown files to `docs/blog/posts/`
   - Pages: Edit existing Markdown files in `docs/`
   - Images: Add to `docs/assets/images/`

2. **Theme Updates**
   - Run `uv sync --upgrade` to update dependencies
   - Test locally before deploying
   - Review Material theme changelog for breaking changes

3. **Configuration Changes**
   - All config in `mkdocs.yml` (single source of truth)
   - Test with `mkdocs serve` before committing
   - Validate with `mkdocs build --strict` to catch errors

## Security Considerations

1. **Static Site = Minimal Attack Surface**
   - No server-side code execution
   - No database or dynamic content
   - No user input processing

2. **GitHub Pages**
   - Automatic HTTPS
   - DDoS protection
   - Regular security updates

3. **Dependencies**
   - Minimal dependency tree (only mkdocs-material)
   - Regular updates via uv
   - Pin versions in uv.lock for reproducibility

## Future Enhancements

Potential improvements to consider:

1. **SEO Enhancements**
   - Add meta descriptions to all pages
   - Implement structured data (JSON-LD)
   - Generate sitemap (MkDocs does this automatically)

2. **Analytics**
   - Google Analytics integration (via Material theme config)
   - Privacy-friendly alternatives (Plausible, Fathom)

3. **RSS Feed**
   - Enable blog RSS feed via Material theme plugin
   - Allows readers to subscribe to updates

4. **Comments**
   - Add Giscus or Utterances for blog comments
   - GitHub-based, no separate backend needed

5. **Newsletter**
   - Email subscription integration
   - Link to newsletter service (Substack, Buttondown, etc.)

---

*Last updated: January 2026*
